<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SoDaRadio-5.0.3-master:8901fb5: SoDaRadio: Classes and a Server process to build a Linux USRP VHF/UHF Radio</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SoDaRadio-5.0.3-master:8901fb5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SoDaRadio: Classes and a Server process to build a Linux USRP VHF/UHF Radio </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a class="el" href="namespaceSoDa.html">SoDa</a> VHF/UHF Software Defined Radio is a multi-threaded application developed for the Linux operating system and the Ettus Radio USRP family of SDR platforms.SoDa was written and is maintained by Matt Reilly, <a class="el" href="namespacekb1vc.html">kb1vc</a>.</p>
<h1><a class="anchor" id="structure"></a>
Structure of the Radio</h1>
<p>The <a class="el" href="namespaceSoDa.html">SoDa</a> program is partitioned into two parts:</p>
<ul>
<li>the SDR controller program, called SoDaServer</li>
<li>the GUI program, called SoDaRadio implemented in qtgui/main.cpp</li>
</ul>
<p>SoDaServer and SoDaRadio are connected to the USRP and host OS sound system as shown here: </p><div class="image">
<object type="image/svg+xml" data="SoDa_Radio_System.svg">SoDa_Radio_System.svg</object>
</div>
<p>The GUI is built on the Qt GUI toolset, and communicates with the SDR control program via a Unix Domain socket connection. The GUI and the SDR controller run on a single Linux host.</p>
<p>The SDR signal processing and control functions are executed within multiple threads of the <a class="el" href="namespaceSoDa.html">SoDa</a> application. The threads communicate via a simple mailbox-in-shared-memory communications scheme where each thread can "subscribe" to one or more message streams, and place messages into any message stream. (See <a class="el" href="classSoDa_1_1MultiMBox.html">SoDa::MultiMBox</a> and <a class="el" href="classSoDa_1_1MBoxMessage.html">SoDa::MBoxMessage</a>)</p>
<p>The image below shows the thread objects that make up the <a class="el" href="namespaceSoDa.html">SoDa</a> SDR radio, and the message streams that link them.</p>
<div class="image">
<object type="image/svg+xml" data="SoDa_Radio_Toplevel.svg">SoDa_Radio_Toplevel.svg</object>
<div class="caption">
The SoDa Radio Components</div></div>
 <ul>
<li><a class="el" href="classSoDa_1_1USRPCtrl.html" title="Though libuhd is designed to be re-entrant, there are some indications that all control functions (se...">SoDa::USRPCtrl</a> executes all control and status functions on the USRP </li>
<li><a class="el" href="classSoDa_1_1USRPRX.html" title="The Receive RF Path. ">SoDa::USRPRX</a> manages the inbound IF signal stream from the USRP receive chain </li>
<li><a class="el" href="classSoDa_1_1USRPTX.html" title="The Transmit RF Path. ">SoDa::USRPTX</a> manages the outbound IF signal stream to the USRP transmit chain </li>
<li><a class="el" href="classSoDa_1_1BaseBandRX.html" title="BaseBandRX â€“ this is the audio processing chain for the recieve path. ">SoDa::BaseBandRX</a> demodulates an incoming RX intermediate frequency signal </li>
<li><a class="el" href="classSoDa_1_1BaseBandTX.html">SoDa::BaseBandTX</a> converts incoming audio into the appropriately modulated TX intermediate-frequency signal. </li>
<li><a class="el" href="classSoDa_1_1CWTX.html" title="The CW text-to-envelope converter run loop. ">SoDa::CWTX</a> converts text strings received from the UI thread into amplitude envelopes (keying envelopes) for the USRPTX process. </li>
<li><a class="el" href="classSoDa_1_1UI.html">SoDa::UI</a> waits for requests and CW text on the UDP socket from the GUI, and forwards status and spectrum plots back to the GUI. </li>
<li><a class="el" href="classSoDa_1_1GPSmon.html">SoDa::GPSmon</a> monitors a connection to the gpsd server (if any)</li>
</ul>
<p>The <a class="el" href="namespaceSoDa.html">SoDa</a> receiver architecture is a 3 stage heterodyne design. The first two IF conversions are performed within the USRP SDR platform. The final stage of conversion is completed in the USRPRX module. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classSoDa_1_1USRPRX.html" title="The Receive RF Path. ">SoDa::USRPRX</a></dd></dl>
<div class="image">
<object type="image/svg+xml" data="SoDa_Radio_RX_Signal_Path.svg">SoDa_Radio_RX_Signal_Path.svg</object>
</div>
<p>The reason for the three stage conversion scheme is threefold:</p><ol type="1">
<li>The first stage (Front End) LO is configured to operate in Integer-N synthesis mode. This reduces spurious "birdies" caused by harmonics of the reference oscillator divided by the fractional N denominator.</li>
<li>The second stage LO is tuned to place the signal of interest at least 50 kHz away from both the first and second local oscillators. This ensures that the DC offset "spike" in the second IF stage is well away from the frequency of interest, and is not displayed in a waterfall or periodogram display.</li>
<li>by placing the second IF well away from the target frequency, we can put the target signal well off the skirts of the phase noise curves for both the first and second LOs. The third LO is implemented as a full 32 bit floating point quadrature oscillator, so the quantization noise is comparatively low.</li>
</ol>
<div class="image">
<object type="image/svg+xml" data="SoDa_Radio_TX_Signal_Path.svg">SoDa_Radio_TX_Signal_Path.svg</object>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Sep 24 2017 12:16:39 for SoDaRadio-5.0.3-master:8901fb5 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
